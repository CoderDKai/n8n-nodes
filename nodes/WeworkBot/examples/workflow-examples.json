{
  "workflows": [
    {
      "name": "æ¯æ—¥æ•°æ®æŠ¥å‘Š",
      "description": "æ¯å¤©å®šæ—¶å‘é€æ•°æ®ç»Ÿè®¡æŠ¥å‘Šåˆ°ä¼ä¸šå¾®ä¿¡ç¾¤",
      "nodes": [
        {
          "id": "schedule-trigger",
          "type": "n8n-nodes-base.scheduleTrigger",
          "name": "å®šæ—¶è§¦å‘å™¨",
          "parameters": {
            "rule": {
              "interval": [
                {
                  "field": "cronExpression",
                  "expression": "0 18 * * *"
                }
              ]
            }
          },
          "position": [100, 200]
        },
        {
          "id": "http-request",
          "type": "n8n-nodes-base.httpRequest",
          "name": "è·å–æ•°æ®ç»Ÿè®¡",
          "parameters": {
            "url": "https://api.example.com/daily-stats",
            "method": "GET",
            "responseFormat": "json"
          },
          "position": [300, 200]
        },
        {
          "id": "function",
          "type": "n8n-nodes-base.function",
          "name": "æ ¼å¼åŒ–æŠ¥å‘Š",
          "parameters": {
            "functionCode": "const stats = items[0].json;\nconst report = `# ğŸ“Š æ¯æ—¥æ•°æ®æŠ¥å‘Š\\n\\n**æ—¥æœŸ**: ${new Date().toLocaleDateString('zh-CN')}\\n**æ€»ç”¨æˆ·æ•°**: ${stats.totalUsers.toLocaleString()}\\n**æ–°å¢ç”¨æˆ·**: ${stats.newUsers.toLocaleString()}\\n**æ´»è·ƒç”¨æˆ·**: ${stats.activeUsers.toLocaleString()}\\n**æ”¶å…¥**: Â¥${stats.revenue.toLocaleString()}\\n\\n---\\n\\n${stats.trend > 0 ? 'ğŸ“ˆ' : 'ğŸ“‰'} ç›¸æ¯”æ˜¨æ—¥${stats.trend > 0 ? 'å¢é•¿' : 'ä¸‹é™'} ${Math.abs(stats.trend)}%`;\n\nreturn [{\n  json: {\n    markdownContent: report\n  }\n}];"
          },
          "position": [500, 200]
        },
        {
          "id": "wework-bot",
          "type": "weworkBot",
          "name": "å‘é€æŠ¥å‘Š",
          "parameters": {
            "messageType": "markdown",
            "markdownContent": "={{$json.markdownContent}}",
            "mentionedUsers": "@all"
          },
          "credentials": {
            "weworkBotApi": "daily-report-bot"
          },
          "position": [700, 200]
        }
      ],
      "connections": {
        "å®šæ—¶è§¦å‘å™¨": {
          "main": [
            [
              {
                "node": "è·å–æ•°æ®ç»Ÿè®¡",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "è·å–æ•°æ®ç»Ÿè®¡": {
          "main": [
            [
              {
                "node": "æ ¼å¼åŒ–æŠ¥å‘Š",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "æ ¼å¼åŒ–æŠ¥å‘Š": {
          "main": [
            [
              {
                "node": "å‘é€æŠ¥å‘Š",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    {
      "name": "ç³»ç»Ÿé”™è¯¯ç›‘æ§",
      "description": "ç›‘æ§ç³»ç»Ÿé”™è¯¯å¹¶åŠæ—¶é€šçŸ¥ç›¸å…³äººå‘˜",
      "nodes": [
        {
          "id": "webhook-trigger",
          "type": "n8n-nodes-base.webhook",
          "name": "é”™è¯¯Webhook",
          "parameters": {
            "path": "system-error",
            "httpMethod": "POST",
            "responseMode": "responseNode"
          },
          "position": [100, 200]
        },
        {
          "id": "if-condition",
          "type": "n8n-nodes-base.if",
          "name": "åˆ¤æ–­é”™è¯¯çº§åˆ«",
          "parameters": {
            "conditions": {
              "string": [
                {
                  "value1": "={{$json.level}}",
                  "operation": "equal",
                  "value2": "critical"
                }
              ]
            }
          },
          "position": [300, 200]
        },
        {
          "id": "wework-critical",
          "type": "weworkBot",
          "name": "ç´§æ€¥å‘Šè­¦",
          "parameters": {
            "messageType": "text",
            "content": "ğŸš¨ **ç´§æ€¥å‘Šè­¦** ğŸš¨\n\nç³»ç»Ÿ: {{$json.system}}\né”™è¯¯: {{$json.message}}\næ—¶é—´: {{$json.timestamp}}\n\nè¯·ç«‹å³å¤„ç†ï¼",
            "mentionedUsers": "admin1,admin2,oncall-engineer"
          },
          "credentials": {
            "weworkBotApi": "alert-bot"
          },
          "position": [500, 150]
        },
        {
          "id": "wework-normal",
          "type": "weworkBot",
          "name": "æ™®é€šé€šçŸ¥",
          "parameters": {
            "messageType": "markdown",
            "markdownContent": "âš ï¸ **ç³»ç»Ÿå‘Šè­¦**\n\n**ç³»ç»Ÿ**: {{$json.system}}\n**é”™è¯¯**: {{$json.message}}\n**çº§åˆ«**: {{$json.level}}\n**æ—¶é—´**: {{$json.timestamp}}\n\nè¯·å…³æ³¨å¤„ç†ã€‚"
          },
          "credentials": {
            "weworkBotApi": "alert-bot"
          },
          "position": [500, 250]
        },
        {
          "id": "webhook-response",
          "type": "n8n-nodes-base.respondToWebhook",
          "name": "å“åº”Webhook",
          "parameters": {
            "responseBody": "{\"status\": \"received\"}",
            "options": {}
          },
          "position": [700, 200]
        }
      ],
      "connections": {
        "é”™è¯¯Webhook": {
          "main": [
            [
              {
                "node": "åˆ¤æ–­é”™è¯¯çº§åˆ«",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "åˆ¤æ–­é”™è¯¯çº§åˆ«": {
          "main": [
            [
              {
                "node": "ç´§æ€¥å‘Šè­¦",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "æ™®é€šé€šçŸ¥",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "ç´§æ€¥å‘Šè­¦": {
          "main": [
            [
              {
                "node": "å“åº”Webhook",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "æ™®é€šé€šçŸ¥": {
          "main": [
            [
              {
                "node": "å“åº”Webhook",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    {
      "name": "æ–‡ä»¶å¤„ç†å®Œæˆé€šçŸ¥",
      "description": "æ–‡ä»¶å¤„ç†å®Œæˆåå‘é€åŒ…å«ç»“æœå›¾è¡¨çš„å›¾æ–‡æ¶ˆæ¯",
      "nodes": [
        {
          "id": "file-trigger",
          "type": "n8n-nodes-base.localFileTrigger",
          "name": "æ–‡ä»¶ç›‘æ§",
          "parameters": {
            "path": "/data/input",
            "watchFor": "file"
          },
          "position": [100, 200]
        },
        {
          "id": "process-file",
          "type": "n8n-nodes-base.function",
          "name": "å¤„ç†æ–‡ä»¶",
          "parameters": {
            "functionCode": "// æ¨¡æ‹Ÿæ–‡ä»¶å¤„ç†é€»è¾‘\nconst fileName = items[0].json.name;\nconst fileSize = items[0].json.size;\n\n// æ¨¡æ‹Ÿå¤„ç†ç»“æœ\nconst processResult = {\n  fileName,\n  fileSize,\n  recordsProcessed: Math.floor(Math.random() * 10000) + 1000,\n  processingTime: Math.floor(Math.random() * 300) + 30,\n  success: true\n};\n\nreturn [{ json: processResult }];"
          },
          "position": [300, 200]
        },
        {
          "id": "generate-chart",
          "type": "n8n-nodes-base.httpRequest",
          "name": "ç”Ÿæˆå›¾è¡¨",
          "parameters": {
            "url": "https://quickchart.io/chart",
            "method": "POST",
            "bodyParameters": {
              "parameters": [
                {
                  "name": "chart",
                  "value": "{\n  \"type\": \"bar\",\n  \"data\": {\n    \"labels\": [\"å¤„ç†è®°å½•æ•°\", \"å¤„ç†æ—¶é—´(ç§’)\"],\n    \"datasets\": [{\n      \"label\": \"å¤„ç†ç»“æœ\",\n      \"data\": [{{$json.recordsProcessed}}, {{$json.processingTime}}],\n      \"backgroundColor\": [\"#36A2EB\", \"#FF6384\"]\n    }]\n  },\n  \"options\": {\n    \"title\": {\n      \"display\": true,\n      \"text\": \"æ–‡ä»¶å¤„ç†ç»“æœ\"\n    }\n  }\n}"
                }
              ]
            },
            "responseFormat": "binaryData"
          },
          "position": [500, 200]
        },
        {
          "id": "upload-image",
          "type": "n8n-nodes-base.httpRequest",
          "name": "ä¸Šä¼ å›¾ç‰‡",
          "parameters": {
            "url": "https://api.example.com/upload",
            "method": "POST",
            "sendBinaryData": true,
            "binaryPropertyName": "data"
          },
          "position": [700, 200]
        },
        {
          "id": "wework-news",
          "type": "weworkBot",
          "name": "å‘é€å¤„ç†ç»“æœ",
          "parameters": {
            "messageType": "news",
            "articles": {
              "article": [
                {
                  "title": "æ–‡ä»¶å¤„ç†å®Œæˆï¼š{{$('å¤„ç†æ–‡ä»¶').item.json.fileName}}",
                  "description": "æˆåŠŸå¤„ç† {{$('å¤„ç†æ–‡ä»¶').item.json.recordsProcessed}} æ¡è®°å½•ï¼Œè€—æ—¶ {{$('å¤„ç†æ–‡ä»¶').item.json.processingTime}} ç§’",
                  "url": "https://dashboard.example.com/files/{{$('å¤„ç†æ–‡ä»¶').item.json.fileName}}",
                  "picurl": "{{$json.imageUrl}}"
                }
              ]
            }
          },
          "credentials": {
            "weworkBotApi": "file-processing-bot"
          },
          "position": [900, 200]
        }
      ],
      "connections": {
        "æ–‡ä»¶ç›‘æ§": {
          "main": [
            [
              {
                "node": "å¤„ç†æ–‡ä»¶",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "å¤„ç†æ–‡ä»¶": {
          "main": [
            [
              {
                "node": "ç”Ÿæˆå›¾è¡¨",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "ç”Ÿæˆå›¾è¡¨": {
          "main": [
            [
              {
                "node": "ä¸Šä¼ å›¾ç‰‡",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "ä¸Šä¼ å›¾ç‰‡": {
          "main": [
            [
              {
                "node": "å‘é€å¤„ç†ç»“æœ",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    {
      "name": "æ‰¹é‡ç”¨æˆ·é€šçŸ¥",
      "description": "å‘ä¸åŒç”¨æˆ·å‘é€ä¸ªæ€§åŒ–é€šçŸ¥æ¶ˆæ¯",
      "nodes": [
        {
          "id": "manual-trigger",
          "type": "n8n-nodes-base.manualTrigger",
          "name": "æ‰‹åŠ¨è§¦å‘",
          "parameters": {},
          "position": [100, 200]
        },
        {
          "id": "get-users",
          "type": "n8n-nodes-base.httpRequest",
          "name": "è·å–ç”¨æˆ·åˆ—è¡¨",
          "parameters": {
            "url": "https://api.example.com/users",
            "method": "GET",
            "responseFormat": "json"
          },
          "position": [300, 200]
        },
        {
          "id": "split-in-batches",
          "type": "n8n-nodes-base.splitInBatches",
          "name": "åˆ†æ‰¹å¤„ç†",
          "parameters": {
            "batchSize": 10
          },
          "position": [500, 200]
        },
        {
          "id": "wework-batch",
          "type": "weworkBot",
          "name": "æ‰¹é‡é€šçŸ¥",
          "parameters": {
            "messageType": "text",
            "content": "Hi {{$json.name}}ï¼Œæ‚¨æœ‰æ–°çš„ä»»åŠ¡éœ€è¦å¤„ç†ï¼š\n\nä»»åŠ¡: {{$json.taskTitle}}\næˆªæ­¢æ—¶é—´: {{$json.deadline}}\nä¼˜å…ˆçº§: {{$json.priority}}\n\nè¯·åŠæ—¶æŸ¥çœ‹å¤„ç†ã€‚",
            "mentionedUsers": "{{$json.weworkUserId}}"
          },
          "credentials": {
            "weworkBotApi": "user-notification-bot"
          },
          "position": [700, 200]
        },
        {
          "id": "wait",
          "type": "n8n-nodes-base.wait",
          "name": "ç­‰å¾…é—´éš”",
          "parameters": {
            "amount": 2,
            "unit": "seconds"
          },
          "position": [900, 200]
        }
      ],
      "connections": {
        "æ‰‹åŠ¨è§¦å‘": {
          "main": [
            [
              {
                "node": "è·å–ç”¨æˆ·åˆ—è¡¨",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "è·å–ç”¨æˆ·åˆ—è¡¨": {
          "main": [
            [
              {
                "node": "åˆ†æ‰¹å¤„ç†",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "åˆ†æ‰¹å¤„ç†": {
          "main": [
            [
              {
                "node": "æ‰¹é‡é€šçŸ¥",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "æ‰¹é‡é€šçŸ¥": {
          "main": [
            [
              {
                "node": "ç­‰å¾…é—´éš”",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "ç­‰å¾…é—´éš”": {
          "main": [
            [
              {
                "node": "åˆ†æ‰¹å¤„ç†",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      }
    }
  ],
  "credentials": [
    {
      "name": "daily-report-bot",
      "type": "weworkBotApi",
      "description": "ç”¨äºå‘é€æ¯æ—¥æŠ¥å‘Šçš„WeWorkBot",
      "data": {
        "webhookUrl": "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=YOUR_DAILY_REPORT_KEY"
      }
    },
    {
      "name": "alert-bot",
      "type": "weworkBotApi",
      "description": "ç”¨äºå‘é€ç³»ç»Ÿå‘Šè­¦çš„WeWorkBot",
      "data": {
        "webhookUrl": "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=YOUR_ALERT_KEY"
      }
    },
    {
      "name": "file-processing-bot",
      "type": "weworkBotApi",
      "description": "ç”¨äºå‘é€æ–‡ä»¶å¤„ç†ç»“æœçš„WeWorkBot",
      "data": {
        "webhookUrl": "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=YOUR_FILE_PROCESSING_KEY"
      }
    },
    {
      "name": "user-notification-bot",
      "type": "weworkBotApi",
      "description": "ç”¨äºå‘é€ç”¨æˆ·é€šçŸ¥çš„WeWorkBot",
      "data": {
        "webhookUrl": "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=YOUR_USER_NOTIFICATION_KEY"
      }
    }
  ]
}